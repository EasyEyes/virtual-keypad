!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.virtualKeypad=e():t.virtualKeypad=e()}(self,(()=>(()=>{"use strict";var t={509:(t,e,r)=>{var n=r(9985),o=r(3691),a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(o(t)+" is not a function")}},3550:(t,e,r)=>{var n=r(598),o=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a("Can't set "+o(t)+" as a prototype")}},7370:(t,e,r)=>{var n=r(4201),o=r(5391),a=r(2560).f,i=n("unscopables"),s=Array.prototype;void 0===s[i]&&a(s,i,{configurable:!0,value:o(null)}),t.exports=function(t){s[i][t]=!0}},5027:(t,e,r)=>{var n=r(8999),o=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(o(t)+" is not an object")}},4328:(t,e,r)=>{var n=r(5290),o=r(7578),a=r(6310),i=function(t){return function(e,r,i){var s=n(e),c=a(s);if(0===c)return!t&&-1;var u,l=o(i,c);if(t&&r!=r){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},6648:(t,e,r)=>{var n=r(8844),o=n({}.toString),a=n("".slice);t.exports=function(t){return a(o(t),8,-1)}},8758:(t,e,r)=>{var n=r(6812),o=r(9152),a=r(2474),i=r(2560);t.exports=function(t,e,r){for(var s=o(e),c=i.f,u=a.f,l=0;l<s.length;l++){var p=s[l];n(t,p)||r&&n(r,p)||c(t,p,u(e,p))}}},1748:(t,e,r)=>{var n=r(3689);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7807:t=>{t.exports=function(t,e){return{value:t,done:e}}},5773:(t,e,r)=>{var n=r(7697),o=r(2560),a=r(5684);t.exports=n?function(t,e,r){return o.f(t,e,a(1,r))}:function(t,e,r){return t[e]=r,t}},5684:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1880:(t,e,r)=>{var n=r(9985),o=r(2560),a=r(8702),i=r(5014);t.exports=function(t,e,r,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:e;if(n(r)&&a(r,u,s),s.global)c?t[e]=r:i(e,r);else{try{s.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},5014:(t,e,r)=>{var n=r(1087),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},7697:(t,e,r)=>{var n=r(3689);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6420:(t,e,r)=>{var n=r(1087),o=r(8999),a=n.document,i=o(a)&&o(a.createElement);t.exports=function(t){return i?a.createElement(t):{}}},6338:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:(t,e,r)=>{var n=r(6420)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},2739:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8017:(t,e,r)=>{var n=r(1087).navigator,o=n&&n.userAgent;t.exports=o?String(o):""},1352:(t,e,r)=>{var n,o,a=r(1087),i=r(8017),s=a.process,c=a.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},9989:(t,e,r)=>{var n=r(1087),o=r(2474).f,a=r(5773),i=r(1880),s=r(5014),c=r(8758),u=r(5266);t.exports=function(t,e){var r,l,p,f,v,h=t.target,y=t.global,d=t.stat;if(r=y?n:d?n[h]||s(h,{}):n[h]&&n[h].prototype)for(l in e){if(f=e[l],p=t.dontCallGetSet?(v=o(r,l))&&v.value:r[l],!u(y?l:h+(d?".":"#")+l,t.forced)&&void 0!==p){if(typeof f==typeof p)continue;c(f,p)}(t.sham||p&&p.sham)&&a(f,"sham",!0),i(r,l,f,t)}}},3689:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7215:(t,e,r)=>{var n=r(3689);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2615:(t,e,r)=>{var n=r(7215),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},1236:(t,e,r)=>{var n=r(7697),o=r(6812),a=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,s=o(a,"name"),c=s&&"something"===function(){}.name,u=s&&(!n||n&&i(a,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},2743:(t,e,r)=>{var n=r(8844),o=r(509);t.exports=function(t,e,r){try{return n(o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},8844:(t,e,r)=>{var n=r(7215),o=Function.prototype,a=o.call,i=n&&o.bind.bind(a,a);t.exports=n?i:function(t){return function(){return a.apply(t,arguments)}}},6058:(t,e,r)=>{var n=r(1087),o=r(9985);t.exports=function(t,e){return arguments.length<2?(r=n[t],o(r)?r:void 0):n[t]&&n[t][e];var r}},4849:(t,e,r)=>{var n=r(509),o=r(981);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},1087:function(t,e,r){var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:(t,e,r)=>{var n=r(8844),o=r(690),a=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(o(t),e)}},7248:t=>{t.exports={}},2688:(t,e,r)=>{var n=r(6058);t.exports=n("document","documentElement")},8506:(t,e,r)=>{var n=r(7697),o=r(3689),a=r(6420);t.exports=!n&&!o((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},4413:(t,e,r)=>{var n=r(8844),o=r(3689),a=r(6648),i=Object,s=n("".split);t.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?s(t,""):i(t)}:i},6738:(t,e,r)=>{var n=r(8844),o=r(9985),a=r(4091),i=n(Function.toString);o(a.inspectSource)||(a.inspectSource=function(t){return i(t)}),t.exports=a.inspectSource},618:(t,e,r)=>{var n,o,a,i=r(9834),s=r(1087),c=r(8999),u=r(5773),l=r(6812),p=r(4091),f=r(2713),v=r(7248),h="Object already initialized",y=s.TypeError,d=s.WeakMap;if(i||p.state){var g=p.state||(p.state=new d);g.get=g.get,g.has=g.has,g.set=g.set,n=function(t,e){if(g.has(t))throw new y(h);return e.facade=t,g.set(t,e),e},o=function(t){return g.get(t)||{}},a=function(t){return g.has(t)}}else{var b=f("state");v[b]=!0,n=function(t,e){if(l(t,b))throw new y(h);return e.facade=t,u(t,b,e),e},o=function(t){return l(t,b)?t[b]:{}},a=function(t){return l(t,b)}}t.exports={set:n,get:o,has:a,enforce:function(t){return a(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=o(e)).type!==t)throw new y("Incompatible receiver, "+t+" required");return r}}}},9985:t=>{var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},5266:(t,e,r)=>{var n=r(3689),o=r(9985),a=/#|\.prototype\./,i=function(t,e){var r=c[s(t)];return r===l||r!==u&&(o(e)?n(e):!!e)},s=i.normalize=function(t){return String(t).replace(a,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";t.exports=i},981:t=>{t.exports=function(t){return null==t}},8999:(t,e,r)=>{var n=r(9985);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},598:(t,e,r)=>{var n=r(8999);t.exports=function(t){return n(t)||null===t}},3931:t=>{t.exports=!1},734:(t,e,r)=>{var n=r(6058),o=r(9985),a=r(3622),i=r(9525),s=Object;t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&a(e.prototype,s(t))}},974:(t,e,r)=>{var n=r(2013).IteratorPrototype,o=r(5391),a=r(5684),i=r(5997),s=r(9478),c=function(){return this};t.exports=function(t,e,r,u){var l=e+" Iterator";return t.prototype=o(n,{next:a(+!u,r)}),i(t,l,!1,!0),s[l]=c,t}},1934:(t,e,r)=>{var n=r(9989),o=r(2615),a=r(3931),i=r(1236),s=r(9985),c=r(974),u=r(1868),l=r(9385),p=r(5997),f=r(5773),v=r(1880),h=r(4201),y=r(9478),d=r(2013),g=i.PROPER,b=i.CONFIGURABLE,m=d.IteratorPrototype,x=d.BUGGY_SAFARI_ITERATORS,S=h("iterator"),O="keys",w="values",j="entries",E=function(){return this};t.exports=function(t,e,r,i,h,d,P){c(r,e,i);var M,I,T,k=function(t){if(t===h&&_)return _;if(!x&&t&&t in R)return R[t];switch(t){case O:case w:case j:return function(){return new r(this,t)}}return function(){return new r(this)}},A=e+" Iterator",L=!1,R=t.prototype,C=R[S]||R["@@iterator"]||h&&R[h],_=!x&&C||k(h),B="Array"===e&&R.entries||C;if(B&&(M=u(B.call(new t)))!==Object.prototype&&M.next&&(a||u(M)===m||(l?l(M,m):s(M[S])||v(M,S,E)),p(M,A,!0,!0),a&&(y[A]=E)),g&&h===w&&C&&C.name!==w&&(!a&&b?f(R,"name",w):(L=!0,_=function(){return o(C,this)})),h)if(I={values:k(w),keys:d?_:k(O),entries:k(j)},P)for(T in I)(x||L||!(T in R))&&v(R,T,I[T]);else n({target:e,proto:!0,forced:x||L},I);return a&&!P||R[S]===_||v(R,S,_,{name:h}),y[e]=_,I}},2013:(t,e,r)=>{var n,o,a,i=r(3689),s=r(9985),c=r(8999),u=r(5391),l=r(1868),p=r(1880),f=r(4201),v=r(3931),h=f("iterator"),y=!1;[].keys&&("next"in(a=[].keys())?(o=l(l(a)))!==Object.prototype&&(n=o):y=!0),!c(n)||i((function(){var t={};return n[h].call(t)!==t}))?n={}:v&&(n=u(n)),s(n[h])||p(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},9478:t=>{t.exports={}},6310:(t,e,r)=>{var n=r(3126);t.exports=function(t){return n(t.length)}},8702:(t,e,r)=>{var n=r(8844),o=r(3689),a=r(9985),i=r(6812),s=r(7697),c=r(1236).CONFIGURABLE,u=r(6738),l=r(618),p=l.enforce,f=l.get,v=String,h=Object.defineProperty,y=n("".slice),d=n("".replace),g=n([].join),b=s&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),m=String(String).split("String"),x=t.exports=function(t,e,r){"Symbol("===y(v(e),0,7)&&(e="["+d(v(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!i(t,"name")||c&&t.name!==e)&&(s?h(t,"name",{value:e,configurable:!0}):t.name=e),b&&r&&i(r,"arity")&&t.length!==r.arity&&h(t,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?s&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=p(t);return i(n,"source")||(n.source=g(m,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return a(this)&&f(this).source||u(this)}),"toString")},8828:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},5391:(t,e,r)=>{var n,o=r(5027),a=r(8920),i=r(2739),s=r(7248),c=r(2688),u=r(6420),l=r(2713),p="prototype",f="script",v=l("IE_PROTO"),h=function(){},y=function(t){return"<"+f+">"+t+"</"+f+">"},d=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;g="undefined"!=typeof document?document.domain&&n?d(n):(e=u("iframe"),r="java"+f+":",e.style.display="none",c.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(y("document.F=Object")),t.close(),t.F):d(n);for(var o=i.length;o--;)delete g[p][i[o]];return g()};s[v]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(h[p]=o(t),r=new h,h[p]=null,r[v]=t):r=g(),void 0===e?r:a.f(r,e)}},8920:(t,e,r)=>{var n=r(7697),o=r(5648),a=r(2560),i=r(5027),s=r(5290),c=r(300);e.f=n&&!o?Object.defineProperties:function(t,e){i(t);for(var r,n=s(e),o=c(e),u=o.length,l=0;u>l;)a.f(t,r=o[l++],n[r]);return t}},2560:(t,e,r)=>{var n=r(7697),o=r(8506),a=r(5648),i=r(5027),s=r(8360),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p="enumerable",f="configurable",v="writable";e.f=n?a?function(t,e,r){if(i(t),e=s(e),i(r),"function"==typeof t&&"prototype"===e&&"value"in r&&v in r&&!r[v]){var n=l(t,e);n&&n[v]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:p in r?r[p]:n[p],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(i(t),e=s(e),i(r),o)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},2474:(t,e,r)=>{var n=r(7697),o=r(2615),a=r(9556),i=r(5684),s=r(5290),c=r(8360),u=r(6812),l=r(8506),p=Object.getOwnPropertyDescriptor;e.f=n?p:function(t,e){if(t=s(t),e=c(e),l)try{return p(t,e)}catch(t){}if(u(t,e))return i(!o(a.f,t,e),t[e])}},2741:(t,e,r)=>{var n=r(4948),o=r(2739).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},7518:(t,e)=>{e.f=Object.getOwnPropertySymbols},1868:(t,e,r)=>{var n=r(6812),o=r(9985),a=r(690),i=r(2713),s=r(1748),c=i("IE_PROTO"),u=Object,l=u.prototype;t.exports=s?u.getPrototypeOf:function(t){var e=a(t);if(n(e,c))return e[c];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof u?l:null}},3622:(t,e,r)=>{var n=r(8844);t.exports=n({}.isPrototypeOf)},4948:(t,e,r)=>{var n=r(8844),o=r(6812),a=r(5290),i=r(4328).indexOf,s=r(7248),c=n([].push);t.exports=function(t,e){var r,n=a(t),u=0,l=[];for(r in n)!o(s,r)&&o(n,r)&&c(l,r);for(;e.length>u;)o(n,r=e[u++])&&(~i(l,r)||c(l,r));return l}},300:(t,e,r)=>{var n=r(4948),o=r(2739);t.exports=Object.keys||function(t){return n(t,o)}},9556:(t,e)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},9385:(t,e,r)=>{var n=r(2743),o=r(8999),a=r(4684),i=r(3550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return a(r),i(n),o(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},5899:(t,e,r)=>{var n=r(2615),o=r(9985),a=r(8999),i=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&o(r=t.toString)&&!a(s=n(r,t)))return s;if(o(r=t.valueOf)&&!a(s=n(r,t)))return s;if("string"!==e&&o(r=t.toString)&&!a(s=n(r,t)))return s;throw new i("Can't convert object to primitive value")}},9152:(t,e,r)=>{var n=r(6058),o=r(8844),a=r(2741),i=r(7518),s=r(5027),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=a.f(s(t)),r=i.f;return r?c(e,r(t)):e}},4684:(t,e,r)=>{var n=r(981),o=TypeError;t.exports=function(t){if(n(t))throw new o("Can't call method on "+t);return t}},5997:(t,e,r)=>{var n=r(2560).f,o=r(6812),a=r(4201)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,a)&&n(t,a,{configurable:!0,value:e})}},2713:(t,e,r)=>{var n=r(3430),o=r(4630),a=n("keys");t.exports=function(t){return a[t]||(a[t]=o(t))}},4091:(t,e,r)=>{var n=r(3931),o=r(1087),a=r(5014),i="__core-js_shared__",s=t.exports=o[i]||a(i,{});(s.versions||(s.versions=[])).push({version:"3.41.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},3430:(t,e,r)=>{var n=r(4091);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},146:(t,e,r)=>{var n=r(1352),o=r(3689),a=r(1087).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},7578:(t,e,r)=>{var n=r(8700),o=Math.max,a=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):a(r,e)}},5290:(t,e,r)=>{var n=r(4413),o=r(4684);t.exports=function(t){return n(o(t))}},8700:(t,e,r)=>{var n=r(8828);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},3126:(t,e,r)=>{var n=r(8700),o=Math.min;t.exports=function(t){var e=n(t);return e>0?o(e,9007199254740991):0}},690:(t,e,r)=>{var n=r(4684),o=Object;t.exports=function(t){return o(n(t))}},8732:(t,e,r)=>{var n=r(2615),o=r(8999),a=r(734),i=r(4849),s=r(5899),c=r(4201),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var r,c=i(t,l);if(c){if(void 0===e&&(e="default"),r=n(c,t,e),!o(r)||a(r))return r;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},8360:(t,e,r)=>{var n=r(8732),o=r(734);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},3691:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4630:(t,e,r)=>{var n=r(8844),o=0,a=Math.random(),i=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++o+a,36)}},9525:(t,e,r)=>{var n=r(146);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:(t,e,r)=>{var n=r(7697),o=r(3689);t.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9834:(t,e,r)=>{var n=r(1087),o=r(9985),a=n.WeakMap;t.exports=o(a)&&/native code/.test(String(a))},4201:(t,e,r)=>{var n=r(1087),o=r(3430),a=r(6812),i=r(4630),s=r(146),c=r(9525),u=n.Symbol,l=o("wks"),p=c?u.for||u:u&&u.withoutSetter||i;t.exports=function(t){return a(l,t)||(l[t]=s&&a(u,t)?u[t]:p("Symbol."+t)),l[t]}},752:(t,e,r)=>{var n=r(5290),o=r(7370),a=r(9478),i=r(618),s=r(2560).f,c=r(1934),u=r(7807),l=r(3931),p=r(7697),f="Array Iterator",v=i.set,h=i.getterFor(f);t.exports=c(Array,"Array",(function(t,e){v(this,{type:f,target:n(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(r,!1);case"values":return u(e[r],!1)}return u([r,e[r]],!1)}),"values");var y=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!l&&p&&"values"!==y.name)try{s(y,"name",{value:"values"})}catch(t){}},6265:(t,e,r)=>{var n=r(1087),o=r(6338),a=r(3265),i=r(752),s=r(5773),c=r(5997),u=r(4201)("iterator"),l=i.values,p=function(t,e){if(t){if(t[u]!==l)try{s(t,u,l)}catch(e){t[u]=l}if(c(t,e,!0),o[e])for(var r in i)if(t[r]!==i[r])try{s(t,r,i[r])}catch(e){t[r]=i[r]}}};for(var f in o)p(n[f]&&n[f].prototype,f);p(a,"DOMTokenList")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{function t(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.r(n),r.d(n,{ExperimentPeer:()=>o}),r(6265);const e=()=>{};class o{constructor(r){var n,o=this;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;t(this,"checkAlphabet",(t=>{let e;Array.isArray(t)?e=t:"string"==typeof t?e="SPACE"===t.toUpperCase()||"RETURN"==t.toUpperCase()?[t]:t.split(""):(console.error("Error! Alphabet must be specified as an array of symbols, including 'RETURN', 'SPACE'"),e=[]);const r=[...new Set(e)];return"SPACE"in r&&(r=a(r,"SPACE")),"RETURN"in r&&(r=a(r,"RETURN")),r})),t(this,"_setupHeartBeatIntervals",(()=>{this.heartBeatInterval=setInterval((()=>{var t;return null===(t=this.connectionManager)||void 0===t?void 0:t.send({message:"Heartbeat",type:this.name})}),this.heartbeatIntervalMs),this.heartCheckInterval=setInterval((()=>{var t;performance.now()-this.lastHeartbeat>this.ttd&&(console.log("Closing connection due to lack of heartbeat."),null===(t=this.connectionManager)||void 0===t||t.close(),this.connectionManager=void 0,clearInterval(this.heartBeatInterval),clearInterval(this.heartCheckInterval),this.heartBeatInterval=void 0,this.heartCheckInterval=void 0)}),this.ttd)})),t(this,"update",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(void 0!==t){const e=o.checkAlphabet(t);String(o.alphabet)!==String(e)&&o.displayUpdate("New alphabet: "+String(e),!0),o.alphabet=e}o.font=null!=e?e:o.font,o.controlButtons=null!=r?r:o.controlButtons;try{var n,a;null===(n=o.connectionManager)||void 0===n||n.send({type:o.name,message:"Update",alphabet:o.alphabet,font:o.font,peerID:null===(a=o.connectionManager)||void 0===a?void 0:a.peer.id,controlButtons:o.controlButtons})}catch(t){o.displayUpdate("Error updating! Alphabet: ".concat(String(o.alphabet),", font: ").concat(o.font),t),console.error(t)}})),t(this,"disableKeys",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;const e={message:"Disable",type:o.name};t&&(e.keys=t);try{var r;null===(r=o.connectionManager)||void 0===r||r.send(e)}catch(e){o.displayUpdate("Error disabling keys. Keys: ".concat(t)),console.error(e)}})),t(this,"enableKeys",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;const e={message:"Enable",type:o.name};t&&(e.keys=t);try{var r;null===(r=o.connectionManager)||void 0===r||r.send(e)}catch(e){o.displayUpdate("Error enabling keys. Keys: ".concat(t)),console.error(e)}})),t(this,"updateDisplayMessage",(t=>{try{var e;null===(e=this.connectionManager)||void 0===e||e.send({type:this.name,message:"UpdateHeader",headerContent:t})}catch(t){this.displayUpdate("Error in updating message!"),console.error(t)}})),t(this,"updateFooterMessage",(t=>{try{var e;null===(e=this.connectionManager)||void 0===e||e.send({type:this.name,message:"UpdateFooter",headerContent:t})}catch(t){this.displayUpdate("Error in updating footer message."),console.error(t)}})),t(this,"onMessage",(t=>{var e;if(t&&t.message)switch(t.message){case"Handshake":null===(e=this.connectionManager)||void 0===e||e.send({type:this.name,message:"KeypadParameters",alphabet:this.alphabet,controlButtons:this.controlButtons,font:this.font,onErrorReconnectMessage:this.onErrorReconnectMessage}),this.onHandshake();break;case"Keypress":this.onData(t);break;case"Heartbeat":this.lastHeartbeat=performance.now();break;case"HeartRate":this.heartbeatIntervalMs=t.heartbeatIntervalMs;break;default:console.log("Message type: ",t.message)}})),t(this,"displayUpdate",(function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(document.getElementById(o.targetElement)){const r=document.getElementById(o.targetElement);if(e){const e=r.innerText;r.innerText=t+"\n"+e}else r.innerText=t}else console.log("MESSAGE: ",t)})),t(this,"initializeKeypad",(()=>{var t;console.log("Initializing keypad"),this._setupHeartBeatIntervals(),null===(t=this.connectionManager)||void 0===t||t.send({message:"InitializeKeypad",type:this.name})})),r=this.verifyKeypadParameters(r),this.alphabet=this.checkAlphabet(r.alphabet),this.font=r.font,this.controlButtons=r.controlButtons,this.onErrorReconnectMessage=null!==(n=r.onErrorReconnectMessage)&&void 0!==n?n:"Connection lost. Please reconnect...",this.targetElementId=r.targetElementId,this.onData=i,this.onHandshake=()=>{s()},this.connectionManager=c,this.name="keypad",this.lastHeartbeat=performance.now(),this.heartBeatInterval=void 0,this.heartCheckInterval=void 0}verifyKeypadParameters(t){return t.hasOwnProperty("alphabet")?t.alphabet=this.checkAlphabet(t.alphabet):(console.error("Must provide 'alphabet' parameter to Receiver object. Defaulting to 'CDHKNORSVZ'"),t.alphabet="CDHKNORSVZ".split("")),t.hasOwnProperty("font")||(console.error("Must provide 'font' parameter to Receiver object. Defaulting to 'Arial'"),t.alphabet="Arial"),t}}const a=(t,e)=>[...t.slice(0,t.indexOf(e)),...t.slice(t.indexOf(e)+1),e]})(),n})()));
//# sourceMappingURL=ExperimentPeer.js.map